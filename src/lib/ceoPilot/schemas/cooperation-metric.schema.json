{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CooperationMetric",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "metricId",
    "identityKey",
    "agentA",
    "agentB",
    "disagreementCount",
    "escalationCount",
    "forcedCount",
    "resolvedCount",
    "trustScore",
    "deadlockScore",
    "lastOutcome",
    "updatedAt"
  ],
  "properties": {
    "metricId": { "type": "string", "minLength": 1 },
    "identityKey": { "type": "string", "minLength": 1 },
    "agentA": { "type": "string", "minLength": 1 },
    "agentB": { "type": "string", "minLength": 1 },
    "disagreementCount": { "type": "integer", "minimum": 0 },
    "escalationCount": { "type": "integer", "minimum": 0 },
    "forcedCount": { "type": "integer", "minimum": 0 },
    "resolvedCount": { "type": "integer", "minimum": 0 },
    "trustScore": { "type": "number", "minimum": 0, "maximum": 1 },
    "deadlockScore": { "type": "number", "minimum": 0, "maximum": 1 },
    "lastOutcome": {
      "type": "string",
      "enum": ["selected", "merged", "forced_smallest_step", "escalated"]
    },
    "updatedAt": { "type": "string", "format": "date-time" }
  }
}
