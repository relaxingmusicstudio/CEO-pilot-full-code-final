{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "HandoffContract",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "handoffId",
    "fromAgentId",
    "toAgentId",
    "taskId",
    "summary",
    "assumptions",
    "unresolvedRisks",
    "confidence",
    "requiredTools",
    "createdAt"
  ],
  "properties": {
    "handoffId": { "type": "string", "minLength": 1 },
    "fromAgentId": { "type": "string", "minLength": 1 },
    "toAgentId": { "type": "string", "minLength": 1 },
    "taskId": { "type": "string", "minLength": 1 },
    "summary": { "type": "string", "minLength": 1 },
    "assumptions": { "type": "array", "items": { "type": "string" } },
    "unresolvedRisks": { "type": "array", "items": { "type": "string" } },
    "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
    "requiredTools": { "type": "array", "items": { "type": "string" } },
    "createdAt": { "type": "string", "format": "date-time" },
    "overrideAgentId": { "type": "string", "minLength": 1 },
    "governance": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "refereeDecisionId": { "type": "string", "minLength": 1 },
        "approvedByHuman": { "type": "string", "minLength": 1 },
        "approvedAt": { "type": "string", "format": "date-time" }
      }
    }
  }
}
